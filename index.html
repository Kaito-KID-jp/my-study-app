<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI問題生成学習アプリ</title> <!-- タイトル更新 -->
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Favicon (Emoji) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💡</text></svg>">
</head>
<body>

    <!-- === Loading Overlay === -->
    <div id="app-loading-overlay" class="loading-overlay active">
        <div class="spinner"></div>
        <p>読み込み中...</p>
    </div>

    <!-- === Application Header === -->
    <header class="app-header">
        <h1><i class="fas fa-graduation-cap"></i> AI問題生成学習アプリ</h1> <!-- アプリ名調整 -->
        <nav class="app-nav" aria-label="メインナビゲーション">
            <button type="button" class="nav-button active" data-target="home-screen" aria-current="page"><i class="fas fa-home"></i> ホーム</button>
            <button type="button" class="nav-button" data-target="dashboard-screen"><i class="fas fa-chart-line"></i> ダッシュボード</button>
            <button type="button" class="nav-button" data-target="settings-screen"><i class="fas fa-cog"></i> 設定</button>
            <button type="button" class="nav-button" data-target="prompt-guide-screen"><i class="fas fa-lightbulb"></i> AI問題生成ガイド</button>
        </nav>
    </header>

    <!-- === Main Application Container === -->
    <main id="app-container">
        <!-- Error Display Area (for critical init errors) -->
        <div id="app-init-error" class="critical-error-display" style="display: none;" role="alert"></div>

        <!-- ================================================== -->
        <!-- Home Screen Area                                     -->
        <!-- ================================================== -->
        <section id="home-screen" class="screen active" aria-labelledby="home-screen-title">
            <h2 id="home-screen-title" class="sr-only">ホーム画面</h2> <!-- スクリーンリーダー用タイトル -->
            <!-- Deck Management Card -->
            <section id="deck-management-section" class="card" aria-labelledby="deck-management-title">
                <h2 id="deck-management-title" class="card-header"><i class="fas fa-layer-group"></i> 問題集管理</h2>
                <div class="card-content">
                    <!-- Deck Controls: Load new deck -->
                    <div class="deck-controls">
                        <label for="json-file-input" class="button primary file-label"><i class="fas fa-upload"></i> 新規問題集(JSON)を読み込む</label>
                        <input type="file" id="json-file-input" accept=".json" aria-describedby="load-status" style="display: none;"> <!-- display:noneに変更 -->
                        <span id="load-status" class="status-message" aria-live="polite"></span>
                    </div>
                    <!-- Available Decks List -->
                    <div id="deck-list-container" role="region" aria-labelledby="deck-list-title">
                        <h3 id="deck-list-title"><i class="fas fa-list"></i> 利用可能な問題集 <span class="note">(最終学習日順)</span></h3>
                        <ul id="deck-list" aria-live="polite">
                            <li class="no-decks-message">問題集がありません。<br>「新規問題集(JSON)を読み込む」からファイルを追加してください。</li>
                        </ul>
                    </div>
                    <!-- Current Deck Information -->
                    <div id="current-deck-info" role="region" aria-labelledby="current-deck-title">
                        <div class="current-deck-header">
                            <h3 id="current-deck-title"><i class="fas fa-book-open"></i> 現在の問題集</h3>
                            <button type="button" id="reset-history-button" class="button small danger icon-button" title="選択中の問題集の学習履歴をリセットします" disabled>
                                <i class="fas fa-history"></i> 履歴リセット
                            </button>
                         </div>
                        <p>名称: <strong id="current-deck-name">未選択</strong></p>
                        <p>総問題数: <strong id="total-questions">0</strong></p>
                        <p>最終学習: <strong id="current-deck-last-studied">-</strong></p>
                        <p>累計正答率: <strong id="current-deck-accuracy">-</strong></p>
                    </div>
                    <!-- Study Filter Options -->
                    <div id="study-filter-options" style="display: none;" role="region" aria-labelledby="study-filter-title">
                        <h4 id="study-filter-title" class="filter-header"><i class="fas fa-filter"></i> 出題範囲フィルター</h4>
                        <fieldset class="filter-group">
                            <legend class="sr-only">出題範囲を選択してください</legend>
                            <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-all" value="all" checked>
                                <label for="filter-all"><i class="fas fa-list-ul" aria-hidden="true"></i><span> 全問</span></label>
                            </div>
                            <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-low" value="lowAccuracy">
                                <label for="filter-low"><i class="fas fa-thumbs-down" aria-hidden="true"></i><span> 苦手 (<= <span class="threshold-value" id="low-accuracy-threshold-display-filter">50</span>%)</span></label> <!-- ラベル修正 & ID追加 -->
                            </div>
                             <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-incorrect" value="incorrect">
                                <label for="filter-incorrect"><i class="fas fa-times-circle" aria-hidden="true"></i><span> 前回不正解</span></label>
                            </div>
                            <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-unanswered" value="unanswered">
                                <label for="filter-unanswered"><i class="fas fa-question-circle" aria-hidden="true"></i><span> 未解答</span></label>
                            </div>
                            <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-difficult" value="difficult">
                                <label for="filter-difficult"><i class="fas fa-redo" aria-hidden="true"></i><span> 要復習(難しい)</span></label> <!-- ラベル変更 -->
                            </div>
                            <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-normal" value="normal">
                                <label for="filter-normal"><i class="fas fa-check" aria-hidden="true"></i><span> 普通</span></label> <!-- ラベル変更 -->
                            </div>
                            <div class="filter-item">
                                <input type="radio" name="study-filter" id="filter-easy" value="easy">
                                <label for="filter-easy"><i class="fas fa-check-double" aria-hidden="true"></i><span> 簡単</span></label> <!-- ラベル変更 -->
                            </div>
                        </fieldset>
                        <p id="filtered-question-count" class="note" style="margin-top: 10px; text-align: right;" aria-live="polite">対象問題数: 0問</p>
                    </div>
                    <!-- Start Study Button -->
                    <div class="start-buttons">
                        <button type="button" id="start-study-button" class="button success large" disabled><i class="fas fa-play-circle"></i> 学習開始</button>
                    </div>
                </div>
            </section>
       </section>

        <!-- ================================================== -->
        <!-- Study Screen Area                                    -->
        <!-- ================================================== -->
        <section id="study-screen" class="screen" aria-labelledby="study-screen-title">
            <h2 id="study-screen-title" class="screen-title">学習中</h2>
            <!-- Study Card -->
            <div id="study-card" class="card study-card-active">
                <!-- Question Area -->
                <div id="question-area">
                    <p class="card-label question-label">問題 <span id="question-counter" aria-live="polite"></span></p>
                    <div id="question-text" class="card-content question-content" aria-live="polite"></div>
                </div>
                <!-- Options Area -->
                <div id="options-area">
                    <p class="card-label">選択肢</p>
                    <!-- ★ ID 修正: options-buttons -> options-buttons-container -->
                    <div id="options-buttons-container" class="card-content options-grid" role="group" aria-label="解答選択肢"></div>
                </div>
                <!-- Answer/Explanation Area (Initially Hidden) -->
                <div id="answer-area" class="card-content" style="display: none;" aria-live="polite">
                    <hr>
                    <p id="feedback-message" class="feedback-message"></p>
                    <p class="card-label">正解</p>
                    <div id="answer-text"></div>
                    <p class="card-label">解説</p>
                    <div id="explanation-text"></div>
                    <!-- Retry Button moved inside answer area -->
                    <button type="button" id="retry-button" class="button secondary small" style="display: none; margin-top: 15px;"><i class="fas fa-redo-alt"></i> もう一度挑戦</button>
                </div>
            </div>
            <!-- Evaluation Controls (Initially Hidden) -->
            <!-- ★ 評価ボタンのスタイル調整のためにクラス構成は維持 -->
            <div id="evaluation-controls" style="display: none;" class="evaluation-panel">
                <p>この問題の理解度は？ (次回出題に影響)</p> <!-- 説明追加 -->
                <div class="eval-buttons-container" role="group" aria-label="問題の理解度評価">
                    <button type="button" class="eval-button button secondary small difficult" data-level-change="difficult" title="理解が不十分で、近いうちに再学習したい"><i class="fas fa-redo"></i> 難しい</button>
                    <button type="button" class="eval-button button secondary small normal" data-level-change="normal" title="理解できたが、忘れないように復習したい"><i class="fas fa-check"></i> 普通</button>
                    <button type="button" class="eval-button button secondary small easy" data-level-change="easy" title="完全に理解しており、しばらく復習不要"><i class="fas fa-check-double"></i> 簡単</button>
                </div>
            </div>
            <!-- Study Completion Message (Initially Hidden) -->
            <div id="study-complete-message" style="display: none;" class="completion-panel card" aria-live="assertive" tabindex="-1"> <!-- tabindex for focus -->
                <h3 class="card-header"><i class="fas fa-party-popper"></i> 学習完了！</h3>
                <div class="card-content">
                    <p>今回の学習セッションは完了です！お疲れ様でした。</p>
                    <p>今回の正解数: <strong id="session-correct-count">0</strong></p> <!-- strongタグ使用 -->
                    <p>今回の不正解数: <strong id="session-incorrect-count">0</strong></p> <!-- strongタグ使用 -->
                    <button type="button" id="back-to-top-button" class="button primary large">ホームに戻る</button>
                </div>
            </div>
            <!-- Quit Study Button -->
            <button type="button" id="quit-study-button" class="button danger small quit-button" style="display: none;"><i class="fas fa-times"></i> 学習中断</button>
        </section>

        <!-- ================================================== -->
        <!-- Dashboard Screen Area                                -->
        <!-- ================================================== -->
        <section id="dashboard-screen" class="screen" aria-labelledby="dashboard-screen-title">
            <h2 id="dashboard-screen-title" class="screen-title"><i class="fas fa-tachometer-alt"></i> 学習ダッシュボード</h2>
            <!-- Dashboard Controls: Deck Selection -->
            <div class="dashboard-controls card">
                 <label for="dashboard-deck-select">表示する問題集:</label> <!-- ラベル修正 -->
                 <select id="dashboard-deck-select" aria-label="表示する問題集を選択">
                     <option value="">-- 問題集を選択してください --</option>
                 </select>
            </div>
            <!-- Dashboard Content Area -->
            <div id="dashboard-content" style="display: none;">
                <!-- Overview Section -->
                <section id="dashboard-overview" class="card" aria-labelledby="dashboard-overview-title">
                    <h3 id="dashboard-overview-title" class="card-header"><i class="fas fa-info-circle"></i> 概要: <span id="dashboard-deck-name"></span></h3>
                    <div class="dashboard-stats-grid">
                        <div>総問題数: <strong id="dashboard-total-questions">0</strong></div>
                        <div>総解答数: <strong id="dashboard-total-answered">0</strong></div>
                        <div>累計正答率: <strong id="dashboard-overall-accuracy">-</strong></div>
                        <div>最終学習日: <strong id="dashboard-last-studied">-</strong></div>
                    </div>
                </section>
                <!-- Study Trends Section -->
                <section id="dashboard-trends" class="card" aria-labelledby="dashboard-trends-title">
                    <h3 id="dashboard-trends-title" class="card-header"><i class="fas fa-chart-line"></i> 学習推移 (直近<span id="dashboard-trends-sessions-count">30</span>セッション)</h3>
                    <div id="study-trends-chart-container" class="chart-container">
                         <!-- ★ aria-label を更新 -->
                         <canvas id="study-trends-chart" role="img" aria-label="学習セッションごとの積み上げ正解/不正解数と正答率の推移グラフ"></canvas>
                         <p id="study-trends-no-data" class="status-message" style="display: none;">学習セッション履歴がありません。</p>
                    </div>
                    <!-- ★ 注釈テキストを調整（現状維持でも可） -->
                    <p class="note">※ 各セッションは学習を中断または完了した時点の記録です。横軸はセッションの回数を表します。</p>
                </section>
                <!-- Question Analysis Section -->
                <section id="dashboard-question-analysis" class="card" aria-labelledby="dashboard-analysis-title">
                    <h3 id="dashboard-analysis-title" class="card-header"><i class="fas fa-tasks"></i> 問題別分析</h3>
                     <!-- Analysis Controls -->
                     <div class="dashboard-analysis-controls" id="dashboard-analysis-controls"> <!-- ★ IDを追加 -->
                        <div class="control-group">
                            <label for="dashboard-filter-accuracy">正答率:</label>
                            <select id="dashboard-filter-accuracy" aria-label="正答率で問題を絞り込む">
                                <option value="all">すべて</option>
                                <option value="low">低い (0-<span class="filter-threshold-low" id="dashboard-filter-threshold-low">49</span>%)</option>
                                <option value="medium">普通 (<span class="filter-threshold-medium-low" id="dashboard-filter-threshold-medium-low">50</span>-<span class="filter-threshold-medium-high" id="dashboard-filter-threshold-medium-high">79</span>%)</option>
                                <option value="high">高い (<span class="filter-threshold-high" id="dashboard-filter-threshold-high">80</span>-100%)</option>
                                <option value="unanswered">未解答</option>
                            </select>
                        </div>
                        <div class="control-group search-control">
                            <label for="dashboard-search-query">検索:</label>
                            <input type="search" id="dashboard-search-query" placeholder="問題文, 解答, 解説..." aria-label="問題文や解答、解説で検索">
                            <button type="button" id="dashboard-search-button" class="button small primary icon-button" aria-label="検索実行" disabled><i class="fas fa-search"></i></button>
                            <button type="button" id="dashboard-search-clear" class="button small secondary icon-button" title="検索クリア" aria-label="検索をクリア"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="control-group">
                            <label for="dashboard-sort-order">並び替え:</label>
                            <select id="dashboard-sort-order" aria-label="問題の並び順を選択">
                                <option value="accuracyAsc">正答率 低い順</option>
                                <option value="accuracyDesc">正答率 高い順</option>
                                <option value="mostIncorrect">不正解数 多い順</option>
                                <option value="lastAnswered">最終解答 新しい順</option>
                                <option value="questionOrder">問題番号順</option>
                            </select>
                        </div>
                         <div class="control-group view-mode-control" role="group" aria-label="表示モード切り替え">
                            <label id="view-mode-label" class="sr-only">表示モード:</label>
                            <button type="button" id="view-mode-list" class="button small secondary active" title="リスト表示" aria-pressed="true" aria-labelledby="view-mode-label"><i class="fas fa-list"></i> リスト</button>
                            <button type="button" id="view-mode-chart" class="button small secondary" title="グラフ表示" aria-pressed="false" aria-labelledby="view-mode-label"><i class="fas fa-chart-bar"></i> グラフ</button>
                         </div>
                    </div>
                    <!-- Analysis View Area -->
                    <div id="question-analysis-view">
                        <!-- List View -->
                        <div id="question-list-view" class="analysis-view active" role="region" aria-labelledby="dashboard-analysis-title">
                            <ul id="question-accuracy-list" aria-live="polite">
                                <!-- Content dynamically added by JS -->
                                <li class="status-message">問題集を選択し、フィルターを設定してください。</li> <!-- 初期メッセージ変更 -->
                            </ul>
                            <nav id="question-pagination" class="pagination-controls" aria-label="問題リストページネーション"></nav>
                        </div>
                        <!-- Chart View -->
                        <div id="question-chart-view" class="analysis-view" role="region" aria-labelledby="dashboard-analysis-title">
                            <p class="note chart-description">解答済み問題の正答率分布。棒グラフをクリックすると該当範囲の問題をリスト表示します。</p> <!-- 説明修正 -->
                            <div id="question-accuracy-chart-container" class="chart-container">
                                <canvas id="question-accuracy-chart" role="img" aria-label="問題ごとの正答率分布グラフ"></canvas> <!-- roleとaria-label追加 -->
                                <p id="question-accuracy-no-data" class="status-message" style="display: none;">解答済みの問題がありません。</p>
                            </div>
                        </div>
                    </div>
                     <!-- Question Detail View (Initially Hidden) -->
                     <div id="question-detail-view" style="display: none;" role="region" aria-live="polite" aria-labelledby="question-detail-title">
                         <h4 id="question-detail-title"><i class="fas fa-info-circle"></i> 問題詳細</h4>
                         <p><strong>問題 <span id="detail-question-number"></span>:</strong> <span id="detail-question-text"></span></p>
                         <p><strong>正解:</strong> <span id="detail-correct-answer"></span></p>
                         <p><strong>あなたの正答率:</strong> <strong id="detail-accuracy"></strong> (<span id="detail-correct-count"></span>/<span id="detail-total-count"></span>)</p> <!-- ラベル変更 -->
                         <p><strong>直近の解答履歴 (最大<span id="detail-history-count">5</span>件):</strong></p>
                         <ul id="detail-recent-history"></ul>
                         <button type="button" id="close-detail-view" class="button small secondary">閉じる</button>
                     </div>
                </section>
            </div>
             <!-- Message when no deck is selected -->
             <p id="dashboard-no-deck-message" class="status-message info-message" style="display: none; text-align: center; margin-top: 30px;">
                <i class="fas fa-info-circle"></i> 表示する問題集を上で選択してください。
            </p>
        </section>

        <!-- ================================================== -->
        <!-- Settings Screen Area                                 -->
        <!-- ================================================== -->
        <section id="settings-screen" class="screen" aria-labelledby="settings-screen-title">
            <h2 id="settings-screen-title" class="screen-title"><i class="fas fa-cog"></i> アプリ設定</h2>
            <div id="settings-container" class="settings-container card"> <!-- ID追加 -->
                 <!-- Learning Settings Group -->
                 <fieldset class="settings-group"> <!-- fieldsetに変更 -->
                     <legend class="settings-header"><i class="fas fa-sliders-h"></i> 学習設定</legend>
                     <div class="setting-item checkbox-item">
                         <input type="checkbox" id="setting-shuffle-options" class="setting-checkbox">
                         <label for="setting-shuffle-options" class="checkbox-label">学習時に選択肢をシャッフルする</label> <!-- class追加 -->
                     </div>
                     <div class="setting-item">
                         <label for="setting-low-accuracy-threshold">「苦手な問題」フィルターの閾値 (%)</label>
                         <div> <!-- divで囲んでnoteを配置しやすく -->
                             <input type="number" id="setting-low-accuracy-threshold" class="setting-input" min="1" max="99" step="1" aria-describedby="threshold-note">
                             <span class="note" id="threshold-note">(この値以下の正答率の問題を抽出)</span> <!-- 説明変更 -->
                         </div>
                     </div>
                     <!-- 他の設定項目をここに追加可能 -->
                 </fieldset>
                 <!-- Save Settings Actions -->
                 <div class="settings-actions">
                    <button type="button" id="save-settings-button" class="button success"><i class="fas fa-save"></i> 設定を保存</button>
                    <div id="settings-save-status" class="status-message" aria-live="polite"></div>
                </div>
            </div>
        </section>

        <!-- ================================================== -->
        <!-- Prompt Guide Screen Area                             -->
        <!-- ================================================== -->
        <section id="prompt-guide-screen" class="screen" aria-labelledby="prompt-guide-title">
           <h2 id="prompt-guide-title" class="screen-title"><i class="fas fa-lightbulb"></i> 問題生成ガイド</h2>
            <div class="card">
                <h3 class="card-header">AIを使った問題JSON生成</h3>
                <div class="card-content">
                    <p>ChatGPT (GPT-4推奨) などのAIを使用して、学習用の問題JSONファイルを簡単に生成できます。以下のプロンプト例を参考にしてください。</p>
                    <div class="prompt-controls">
                        <button type="button" id="copy-prompt-button" class="button primary"> <i class="fas fa-copy"></i> プロンプトをコピー </button>
                        <span id="copy-status" class="status-message" aria-live="polite"></span>
                    </div>
                    <h4>プロンプト例:</h4>
                    <pre class="code-block" id="prompt-text" aria-label="AIに問題を生成させるためのプロンプト例"><code>あなたは**[専門分野]**のエキスパートです。
以下のJSONフォーマットに従って、**[専門分野]**に関する高品質な四択問題を**[問題数]**問、日本語で作成してください。

[
  {
    "question": "ここに具体的で明確な問題文を記述します。",
    "options": [
      "魅力的な間違いの選択肢1",
      "正解の選択肢",
      "別の魅力的な間違いの選択肢2",
      "もう一つの間違いの選択肢3"
    ],
    "correctAnswer": "正解の選択肢（options配列内の文字列と完全に一致させる）",
    "explanation": "正解の根拠や関連知識に加え、**各不正解の選択肢がなぜ誤りなのか**を明確に、簡潔かつ分かりやすく解説します。これにより学習効果を最大化します。"
  }
  // 他の問題も上記の形式で配列内に記述
]

**作成時の重要事項:**
- **JSON形式の厳守:** 全体を`[`と`]`で囲んだJSON配列とし、各問題は`{}`で囲む。キーと文字列はダブルクォーテーション(`"`)で囲む。最後の問題の後にカンマ(`,`)を付けない。
- **必須キー:** 各問題オブジェクトには必ず `"question"`, `"options"`, `"correctAnswer"`, `"explanation"` の4つのキーを含める。
- **選択肢:** `"options"` は必ず4つの文字列を含む配列にする。正解は必ずこの配列内に含める。選択肢は具体的で、紛らわしいものが含まれるように工夫する。
- **正解との一致:** `"correctAnswer"` の値は、`"options"` 配列内の正解の選択肢の文字列と**完全に**一致させる（空白や大文字小文字の違いも許容されない）。
- **解説の質:** `"explanation"` は、単に正解を繰り返すだけでなく、**正解の根拠**と**各不正解選択肢が誤りである理由**を具体的に、かつ簡潔に説明する。
- **問題のレベル:** **[対象レベル（例: 初級者向け、実務レベル、資格試験レベルなど）]**に合わせてください。
- **具体性:** 問題文は曖昧さを避け、具体的に記述する。

上記指示に従い、JSONデータのみを出力してください。</code></pre>
                    <h4>使い方:</h4>
                    <ol>
                        <li>上記のプロンプト例をコピーします。</li>
                        <li><code>**[専門分野]**</code>、<code>**[問題数]**</code>、<code>**[対象レベル]**</code> の部分を学習したい内容に合わせて具体的に変更します。</li>
                        <li>変更したプロンプトをChatGPTなどのAI (GPT-4推奨) に入力します。</li>
                        <li>AIが生成したJSON形式のテキスト全体をコピーします。生成された内容が指示通りか、特にJSON形式が正しいか確認します。</li>
                        <li>テキストエディタ（メモ帳、VSCodeなど）を開き、コピーした内容を貼り付けます。</li>
                        <li>ファイルを <code>好きなファイル名.json</code> という名前で保存します。（例: <code>javascript_basics.json</code>）UTF-8エンコーディングで保存することを推奨します。</li>
                        <li>アプリの「ホーム」画面に戻り、「新規問題集(JSON)を読み込む」ボタンから、作成したJSONファイルを選択して読み込みます。</li>
                    </ol>
                    <p class="note"><strong>注意:</strong> AIが生成した内容が常に完璧とは限りません。生成された問題、選択肢、正解、解説に誤りがないか、特に `correctAnswer` が `options` 内に正確に含まれているかを確認することを強く推奨します。形式エラーがあると読み込みに失敗します。</p>
                </div>
            </div>
        </section>

        <!-- ================================================== -->
        <!-- Global Notification Area                         -->
        <!-- ================================================== -->
        <div id="global-notification" class="notification" role="alert" aria-live="assertive">
           <span id="notification-icon" aria-hidden="true"><i class="fas fa-info-circle"></i></span>
            <span id="notification-message"></span>
            <button type="button" id="notification-close-button" aria-label="通知を閉じる">×</button>
        </div>

    </main>

    <!-- === Application Footer === -->
    <footer class="app-footer">
        <p>© 2024 AI問題生成学習アプリ</p>
    </footer>

    <!-- === External Libraries === -->
    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" integrity="sha256-0q+JdOlScWOHcunpUk21uab1jW7C1deBQARHtKMcaB4=" crossorigin="anonymous"></script> <!-- integrity値を修正 -->
    <!-- Chart.js Date Adapter (using date-fns) -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js" integrity="sha256-6nqzDSbDjc8fLSa7Q+c6lFN7WPGQb1XhpUbdCTIbVhU=" crossorigin="anonymous"></script> <!-- integrity値を修正 -->
    <!-- Your Application Script -->
    <script src="script.js"></script>
</body>
</html>